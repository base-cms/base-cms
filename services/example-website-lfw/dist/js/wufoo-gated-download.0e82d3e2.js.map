{"version":3,"sources":["webpack://CMSBrowserComponents//root/node_modules/@base-cms/marko-web/browser/components/gated-download/wufoo.vue","webpack://CMSBrowserComponents//root/node_modules/@base-cms/marko-web/browser/components/gated-download/wufoo.vue?5c26","webpack://CMSBrowserComponents//root/node_modules/@base-cms/marko-web/browser/components/gated-download/wufoo.vue?8afb","webpack://CMSBrowserComponents//root/node_modules/@base-cms/marko-web/browser/utils/clean-path.js","webpack://CMSBrowserComponents/../../node_modules/@base-cms/marko-web/browser/components/gated-download/wufoo.vue","webpack://CMSBrowserComponents//root/node_modules/@base-cms/marko-web/browser/components/gated-download/wufoo.vue?0240"],"names":["value","trim","replace"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAoF;AAC3B;AACL;;;AAGpD;AACsF;AACtF,gBAAgB,8FAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACtCf;AAAA;AAAA,wCAAqK,CAAgB,qNAAG,EAAC,C;;;;;;;;;;;;ACAzL;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAe,yEAACA,KAAD,EAAW;AACxB,MAAI,CAACA,KAAL,EAAY,OAAO,EAAP;AACZ,SAAO,UAAGA,KAAH,EAAWC,IAAX,GAAkBC,OAAlB,CAA0B,MAA1B,EAAkC,EAAlC,EAAsCA,OAAtC,CAA8C,MAA9C,EAAsD,EAAtD,CAAP;AACD,CAHD,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACyBA;AAEA;AACA;AACA;AACA,kBADA;AAEA;AAFA,KADA;AAKA;AACA,kBADA;AAEA;AAFA,KALA;AASA;AACA,kBADA;AAEA;AAFA,KATA;AAaA;AACA,kBADA;AAEA;AAFA,KAbA;AAiBA;AACA,kBADA;AAEA;AAFA;AAjBA,GADA;AAuBA;AAAA;AAAA;AAAA;AAAA,GAvBA;AAwBA;AACA,UADA,oBACA;AACA;AACA,KAHA;AAIA,WAJA,qBAIA;AACA;AACA;AANA,GAxBA;AAgCA,SAhCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAiCA,gBAjCA;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAkCA;AACA;AACA;AACA;;AACA;AAAA;AAAA;;AACA;AACA;AACA;AACA,eARA,CAlCA;;AAAA;AA4CA;;AA5CA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AA8CA;AACA,QADA,kBACA;AAAA;;AACA;AACA,+BADA;AAEA,+BAFA;AAGA,wBAHA;AAIA,2BAJA;AAKA,sBALA;AAMA,mBANA;AAOA,iBAPA;AAQA;AACA;AACA;AACA;AACA;AACA;AAbA;AAeA;AACA;AACA;AACA;AApBA;AA9CA,G;;;;;;;;;;;;AC3BA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA,iBAAiB,gCAAgC;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,SAAS,iBAAiB,EAAE;AAC/C;AACA;AACA;AACA","file":"wufoo-gated-download.0e82d3e2.js","sourcesContent":["import { render, staticRenderFns } from \"./wufoo.vue?vue&type=template&id=3bcf1228&\"\nimport script from \"./wufoo.vue?vue&type=script&lang=js&\"\nexport * from \"./wufoo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/root/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('3bcf1228')) {\n      api.createRecord('3bcf1228', component.options)\n    } else {\n      api.reload('3bcf1228', component.options)\n    }\n    module.hot.accept(\"./wufoo.vue?vue&type=template&id=3bcf1228&\", function () {\n      api.rerender('3bcf1228', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"node_modules/@base-cms/marko-web/browser/components/gated-download/wufoo.vue\"\nexport default component.exports","import mod from \"-!../../../../../babel-loader/lib/index.js??ref--1!../../../../../vue-loader/lib/index.js??vue-loader-options!./wufoo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../babel-loader/lib/index.js??ref--1!../../../../../vue-loader/lib/index.js??vue-loader-options!./wufoo.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../vue-loader/lib/index.js??vue-loader-options!./wufoo.vue?vue&type=template&id=3bcf1228&\"","export default (value) => {\n  if (!value) return '';\n  return `${value}`.trim().replace(/^\\/+/, '').replace(/\\/+$/, '');\n};\n","<template>\n  <div\n    v-if=\"canDownload\"\n    class=\"button-wrapper\"\n  >\n    <p>\n      Your download should start automatically.\n      If not,\n      <a\n        :href=\"target\"\n        target=\"_blank\"\n        rel=\"noopener noreferer\"\n      >\n        click here\n      </a>\n      to access this document.\n    </p>\n  </div>\n  <div v-else>\n    <strong>To access this piece of premium content, please fill out the following form:</strong>\n    <div :id=\"formId\" />\n  </div>\n</template>\n\n<script>\nimport cleanPath from '../../utils/clean-path';\n\nexport default {\n  props: {\n    formHash: {\n      type: String,\n      required: true,\n    },\n    userName: {\n      type: String,\n      required: true,\n    },\n    label: {\n      type: String,\n      default: 'Download',\n    },\n    target: {\n      type: String,\n      default: null,\n    },\n    height: {\n      type: String,\n      default: '400',\n    },\n  },\n  data: () => ({ canDownload: false }),\n  computed: {\n    formId() {\n      return `wufoo-${this.formHash}`;\n    },\n    formUrl() {\n      return `https://${this.userName}.wufoo.com/forms/${cleanPath(this.formHash)}`;\n    },\n  },\n  async mounted() {\n    if (!window.WufooForm) {\n      await (new Promise((resolve, reject) => {\n        const s = document.createElement('script');\n        s.src = 'https://secure.wufoo.com/scripts/embed/form.js';\n        s.async = 1;\n        s.onerror = () => reject(new Error('Unable to load Wufoo form script.'));\n        s.onload = resolve;\n        const scr = document.getElementsByTagName('script')[0];\n        scr.parentNode.insertBefore(s, scr);\n      }));\n    }\n    this.init();\n  },\n  methods: {\n    init() {\n      const options = {\n        userName: this.userName,\n        formHash: this.formHash,\n        autoResize: true,\n        height: this.height,\n        header: 'hide',\n        async: true,\n        ssl: true,\n        addSubmitListener: (e) => {\n          if (e.data === 'wufoo-submit-done' && this.target) {\n            this.canDownload = true;\n            window.open(this.target);\n          }\n        },\n      };\n      const instance = new window.WufooForm();\n      instance.initialize(options);\n      instance.display();\n    },\n  },\n};\n</script>\n","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _vm.canDownload\n    ? _c(\"div\", { staticClass: \"button-wrapper\" }, [\n        _c(\"p\", [\n          _vm._v(\n            \"\\n    Your download should start automatically.\\n    If not,\\n    \"\n          ),\n          _c(\n            \"a\",\n            {\n              attrs: {\n                href: _vm.target,\n                target: \"_blank\",\n                rel: \"noopener noreferer\"\n              }\n            },\n            [_vm._v(\"\\n      click here\\n    \")]\n          ),\n          _vm._v(\"\\n    to access this document.\\n  \")\n        ])\n      ])\n    : _c(\"div\", [\n        _c(\"strong\", [\n          _vm._v(\n            \"To access this piece of premium content, please fill out the following form:\"\n          )\n        ]),\n        _vm._v(\" \"),\n        _c(\"div\", { attrs: { id: _vm.formId } })\n      ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"sourceRoot":""}